before_script:
  - "mvn dependency:go-offline"
  - "apt update"
  - "apt upgrade"
  - "apt-get install sudo"
  - "sudo wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add -"
  - "sudo sh -c 'echo 'deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main' >> /etc/apt/sources.list.d/google.list'"
  - "sudo apt-get update"
  - "sudo apt-get -y install google-chrome-stable"
  - "sudo chmod 777 /home/circleci/circleCiTesting/src/test/resources/chromedriver.exe"
  - "sudo apt-get install libxi6 libgconf-2-4"
  - "sudo apt-get -y install xvfb gtk2-engines-pixbuf"
  - "sudo apt-get -y install xfonts-cyrillic xfonts-100dpi xfonts-75dpi xfonts-base xfonts-scalable"
  - "sudo apt-get install xvfb"
  - "sudo apt-get -y install imagemagick x11-apps"
  - "Xvfb :0 -ac &"
  - "export DISPLAY=:99"
image: "circleci/openjdk:8-jdk"
maven-build:
  image: "maven:latest"
  script: "mvn test"
  stage: build
services:
  - "docker:dind"
  - "selenium/standalone-chrome:latest"
stages:
  - build
  - test